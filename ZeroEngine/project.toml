name = "ZeroEngine"
version = "0.1.0"
type = "exec"
language = "cpp"

[sources]
dirs = ["src"]

[includes]
dirs = ["include"]

[build]
flags = ["-Wall", "-Wextra", "-Wpedantic", "-std=c++17"]
optimization = "2"
libs = ["glfw", "vulkan", "dl", "pthread"]

[scripts]
# Automatically compile shaders before building
prebuild = """
#!/bin/bash
echo "==================================="
echo "Building ZeroEngine Shaders..."
echo "==================================="

# Create shaders directory if it doesn't exist
mkdir -p shaders/compiled

# Check if glslc is installed
if ! command -v glslc &> /dev/null; then
    echo "ERROR: glslc not found!"
    echo "Please install the Vulkan SDK from: https://vulkan.lunarg.com/"
    exit 1
fi

# Compile vertex shader
echo "Compiling vertex shader..."
glslc shaders/shader.vert -o shaders/compiled/vert.spv
if [ $? -ne 0 ]; then
    echo "ERROR: Failed to compile vertex shader"
    exit 1
fi

# Compile fragment shader
echo "Compiling fragment shader..."
glslc shaders/shader.frag -o shaders/compiled/frag.spv
if [ $? -ne 0 ]; then
    echo "ERROR: Failed to compile fragment shader"
    exit 1
fi

echo "âœ“ Shaders compiled successfully!"
echo "==================================="
"""

postbuild = """
echo ""
echo "==================================="
echo "Build Complete!"
echo "==================================="
echo "Run with: ./build/ZeroEngine"
echo ""
"""
